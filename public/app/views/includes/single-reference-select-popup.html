<!-- Single Reference Selector -->
<div id="singleReferenceSelectPopup" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal header -->
      <div class="modal-header no-space" style="padding:5px 10px 5px 10px;border:none;">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title text-center">Select {{ collections[referenceCollection].singleLabel }}</h4>
      </div>

      <!-- Reference list header -->
      <div class="container-fluid" style="font-weigt:bold;border-bottom:2px solid #d8d8d8;margin:10px;">
        <div class="col-md-6 text-left">
          <span>Number</span>
        </div>
        <div class="col-md-6 text-left">
          <span>{{ collections[referenceCollection].singleLabel }}</span>
        </div>
      </div>

      <!-- List content -->
      <div class="container-fluid reference-list-content">

        <!-- Loop through each item and create a row -->
        <div ng-click="selectSingleReference(item)" ng-repeat="item in referenceItems" class="container-fluid list-row" style="cursor:pointer;">
          <!-- Create the two columns for number and the display field-->
          <div class="col-md-6 text-left">
            <span>{{ item.number }}</span>
          </div>
          <div class="col-md-6 text-left">
            <span>{{ item[collections[referenceCollection].displayField] }}</span>
          </div>
        </div>

        <!-- Loading indicator -->
        <div ng-if="referencesLoading" class="container-fluid">
          <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Loading
        </div>
        
        <!-- Empty items indicator -->
        <div ng-if="referenceItems.length == 0 && !referencesLoading" class="container-fluid">
          No {{ collections[referenceCollection].pluralLabel }} found
        </div>
      
      </div>

      <!-- Modal footer -->
      <div class="container-fluid text-right" style="padding:20px;">
        <button ng-disabled="referencesLoading" type="button" class="button button-danger" data-dismiss="modal">Cancel</button>
      </div>

    </div>
  </div>
</div>